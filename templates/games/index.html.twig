{% extends 'base.html.twig' %}

{% block title %}BabyFoot By CCI - Matchs{% endblock %}

{% block body %}

<div class="hero overlay" style="background-image: url('images/stade.jpg');">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-5 ml-auto">
            <h1 class="text-white">Matchs de la CCI</h1>
            <p>
              <a href="#" class="btn btn-primary py-3 px-4 mr-3">Organiser un match</a>
            </p>  
          </div>
        </div>
      </div>
    </div>

    
    
    <div class="container">
      

      <div class="row">
        <div class="col-lg-12">
          <div class="d-flex team-vs">
            {% if data is not empty %}
            <span class="score">{{data.teamBlueScore}}-{{data.teamRedScore}}</span>
            <div class="team-1 w-50">
              <div class="team-details w-100 text-center">
                <h3>{{data.teamBlue.name}}</h3>
                <ul class="list-unstyled">
                    {% for joueur in data.teamBlue.teamCompositions %}
                        <li>{{joueur.idPlayer.nickName}}</li>
                    {% endfor %}
                </ul>
              </div>
            </div>
            <div class="team-2 w-50">
              <div class="team-details w-100 text-center">
                <h3>{{data.teamRed.name}}</h3>
                <ul class="list-unstyled">
                    {% for joueur in data.teamRed.teamCompositions %}
                        <li>{{joueur.idPlayer.nickName}}</li>
                    {% endfor %}
                </ul>
              </div>
            </div>
            {% else %}
						<span class="score" style="font-size: 1rem;">Il n'y a eu aucun match récemment...</span>
            <div class="team-1 w-50">
            </div>
            <div class="team-2 w-50">
            </div>
					{% endif %}
          </div>
        </div>
      </div>
    </div>
  
    <div class="site-section bg-dark">
      <div class="container">
        <div class="row">
          {% if dataNext is not empty %}
          <div class="col-lg-6">
            <div class="widget-next-match" style="height: 100%;">
              <div class="widget-title">
                <h3>Prochain Match</h3>
              </div>
              <div class="widget-body mb-3">
                <div class="widget-vs">
                  <div class="d-flex align-items-center justify-content-around justify-content-between w-100">
                    <div class="team-1 text-center">
                      <img src="images/blueBall.webp" alt="Image" class="rotate">
                      <h3>{{dataNext.teamBlue.name}}</h3>
                    </div>
                    <div>
                      <span class="vs"><span>VS</span></span>
                    </div>
                    <div class="team-2 text-center">
                      <img src="images/redBall.webp" alt="Image" class="rotate">
                      <h3>{{dataNext.teamRed.name}}</h3>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-center widget-vs-contents mb-4">
                <h4>Ligue des BabyFoots</h4>
                <p class="mb-5">
                  <span class="d-block">{{dataNext.dateGame|date('d/m/Y')}}</span>
                  <strong class="text-blue">Campus CCI 28</strong>
                </p>

                <div id="date-countdown2" class="pb-1"></div>
              </div>
            </div>
          </div>
          {% else %}
            <div class="col-lg-6">
            <div class="widget-next-match" style="height: 100%;">
              <div class="widget-title">
                <h3>Prochain Match</h3>
              </div>
              <div class="text-center d-flex justify-content-center align-items-center">
                <h5>Il n'y a aucun match à venir...</h5>
              </div>
            </div>
          </div>
          {% endif %}
          {% if lastFiveMatches is not empty %}
          <div class="col-lg-6">
            <div class="widget-histo-match">
              <div class="widget-title red">
                <h3>Historique des matchs</h3>
              </div>
              {% for match in lastFiveMatches %}
              <div class="widget-body mb-3">
                <div class="widget-vs">
                  <div class="d-flex align-items-center justify-content-around justify-content-between w-100">
                    <div class="team-1 text-center">
                      <img src="images/blueBall.webp" alt="Image" class="Histo">
                      <h3>{{ match.teamBlue.name }}</h3>
                    </div>
                    <div>
                      <span class="score">{{ match.teamBlueScore }} - {{ match.teamRedScore }}</span>
                      <p class="dateHisto">{{ match.dateGame|date('d/m/Y')}}</p>
                    </div>
                    <div class="team-2 text-center">
                      <img src="images/redBall.webp" alt="Image" class="Histo">
                      <h3>{{ match.teamRed.name }}</h3>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
            </div>
          </div>
          {% else %}
          <div class="col-lg-6">
            <div class="widget-next-match" style="height: 100%;">
              <div class="widget-title red">
                <h3>Historique des matchs</h3>
              </div>
              <div class="text-center d-flex justify-content-center align-items-center">
                <h5>Aucun match n'a été joué...</h5>
              </div>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div> <!-- .site-section -->

{% endblock %}
